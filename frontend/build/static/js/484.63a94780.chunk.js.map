{"version":3,"file":"static/js/484.63a94780.chunk.js","mappings":"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","sources":["Components/Loading/Loading.js","Components/MessageBox.js","Components/Loading/LoadingSpinner.js","Components/button/Button.js","Layout/Heading.js","Reducer/useReducerOrder.js","Components/Order/OrderShipping.js","Components/Order/OrderPayment.js","Components/Order/OrderItem.js","Components/Order/OrderProceed.js","Screen/OrderScreen.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className='section secton-center'>\r\n      <div className='loading'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import Alert from \"react-bootstrap/Alert\";\r\n\r\nexport default function MessageBox(props) {\r\n  return <Alert variant={props.variant || \"info\"}>{props.children}</Alert>;\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst LoadingStyles = styled.div`\r\n  width: ${(props) => props.size};\r\n  height: ${(props) => props.size};\r\n  border: ${(props) => props.borderSize} solid white;\r\n  border-top: ${(props) => props.borderSize} solid transparent;\r\n  border-bottom: ${(props) => props.borderSize} solid transparent;\r\n  border-radius: 100rem;\r\n  display: inline-block;\r\n  animation: spinner 1s infinite linear;\r\n  @keyframes spinner {\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\nconst LoadingSpinner = ({ size = \"40px\", borderSize = \"5px\" }) => {\r\n  return <LoadingStyles size={size} borderSize={borderSize}></LoadingStyles>;\r\n};\r\n\r\nexport default LoadingSpinner;","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport LoadingSpinner from \"../Loading/LoadingSpinner\";\r\n\r\nconst ButtonStyles = styled.button`\r\n  cursor: pointer;\r\n  padding: 0 25px;\r\n  line-height: 1;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  height: ${(props) => props.height || \"45px\"};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${(props) =>\r\n    props.kind === \"secondary\" &&\r\n    css`\r\n      color: ${(props) => props.theme.primary};\r\n      background-color: white;\r\n    `};\r\n  ${(props) =>\r\n    props.kind === \"primary\" &&\r\n    css`\r\n      color: white;\r\n      background-image: linear-gradient(\r\n        to right bottom,\r\n        ${(props) => props.theme.primary},\r\n        ${(props) => props.theme.secondary}\r\n      );\r\n    `};\r\n  ${(props) =>\r\n    props.kind === \"ghost\" &&\r\n    css`\r\n      color: ${(props) => props.theme.grayLight};\r\n      background-color: var(--clr-primary-5);\r\n      border: none;\r\n      width: 100%;\r\n    `};\r\n  ${(props) =>\r\n    props.kind === \"ship\" &&\r\n    css`\r\n      color: ${(props) => props.theme.grayLight};\r\n      background-color: var(--clr-primary-5);\r\n      border: none;\r\n      width: 50%;\r\n    `};\r\n  &:disabled {\r\n    opacity: 0.5;\r\n    pointer-events: none;\r\n  }\r\n`;\r\n/**\r\n * @param {*} onClick Handler onClick\r\n * @requires\r\n * @param {string} type Type of button 'button' | 'submit'\r\n */\r\nconst Button = ({\r\n  type = \"button\",\r\n  onClick = () => {},\r\n  children,\r\n  kind = \"primary\",\r\n  ...props\r\n}) => {\r\n  const { isLoading, to } = props;\r\n  const child = !!isLoading ? <LoadingSpinner></LoadingSpinner> : children;\r\n  if (to !== \"\" && typeof to === \"string\") {\r\n    return (\r\n      <NavLink\r\n        to={to}\r\n        style={{\r\n          display: \"inline-block\",\r\n        }}\r\n      >\r\n        <ButtonStyles type={type} kind={kind} {...props}>\r\n          {child}\r\n        </ButtonStyles>\r\n      </NavLink>\r\n    );\r\n  }\r\n  return (\r\n    <ButtonStyles type={type} kind={kind} onClick={onClick} {...props}>\r\n      {child}\r\n    </ButtonStyles>\r\n  );\r\n};\r\n\r\nButton.prototype = {\r\n  type: PropTypes.oneOf([\"button\", \"submit\"]),\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  kind: PropTypes.string,\r\n  isLoading: PropTypes.bool,\r\n  to: PropTypes.oneOf([\"primary\", \"secondary\", \"ghost\"]),\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst HeadingStyles = styled.h2`\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  margin-bottom: 55px;\r\n  color: var(--clr-primary-5);\r\n  @media only screen and (max-width: 740px) {\r\n    font-size: 20px;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\nconst Heading = ({ className = \"\", children }) => {\r\n  return <HeadingStyles className={className}>{children}</HeadingStyles>;\r\n};\r\n\r\nexport default Heading;\r\n","//quản lý danh sách lịch sử đặt hàng\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true, error: \"\" };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, loading: false, order: action.payload, error: \"\" };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    case \"PAY_REQUEST\":\r\n      return { ...state, loadingPay: true };\r\n    case \"PAY_SUCCESS\":\r\n      return { ...state, loadingPay: false, successPay: true };\r\n    case \"PAY_FAIL\":\r\n      return { ...state, loadingPay: false };\r\n    case \"PAY_RESET\":\r\n      return { ...state, loadingPay: false, successPay: false };\r\n    //xác nhận giao hàng\r\n    case \"DELIVER_REQUEST\":\r\n      return { ...state, loadingDeliver: true };\r\n    case \"DELIVER_SUCCESS\":\r\n      return { ...state, loadingDeliver: false, successDeliver: true };\r\n    case \"DELIVER_FAIL\":\r\n      return { ...state, loadingDeliver: false };\r\n    case \"DELIVER_RESET\":\r\n      return {\r\n        ...state,\r\n        loadingDeliver: false,\r\n        successDeliver: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  order: {},\r\n  error: \"\",\r\n  successPay: false,\r\n  loadingPay: false,\r\n};\r\n\r\nexport { initialState, reducer };\r\n","import React from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport MessageBox from \"../MessageBox\";\r\n\r\nconst OrderShipping = ({ order }) => {\r\n  return (\r\n    <Card.Body>\r\n      <Card.Title>Đơn Hàng</Card.Title>\r\n      <Card.Text>\r\n        <strong>Sản Phẩm:</strong> {order.shippingAddress.fullName} <br />\r\n        <strong>Địa Chỉ: </strong> {order.shippingAddress.address}\r\n        {order.shippingAddress.city}, {order.shippingAddress.postalCode},\r\n        {order.shippingAddress.country}\r\n      </Card.Text>\r\n      {order.isDelivered ? (\r\n        <MessageBox variant=\"success\">\r\n          Đang Giao Hàng {order.deliveredAt}\r\n        </MessageBox>\r\n      ) : (\r\n        <MessageBox variant=\"danger\">Chưa Giao Hàng</MessageBox>\r\n      )}\r\n    </Card.Body>\r\n  );\r\n};\r\n\r\nexport default OrderShipping;\r\n","import React from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport MessageBox from \"../MessageBox\";\r\n\r\nconst OrderPayment = ({order}) => {\r\n  return (\r\n    <Card.Body>\r\n      <Card.Title>Thanh Toán</Card.Title>\r\n      <Card.Text>\r\n        <strong>Phương Thức:</strong> {order.paymentMethod}\r\n      </Card.Text>\r\n      {order.isPaid ? (\r\n        <MessageBox variant=\"success\">Đã Thanh Toán {order.paidAt}</MessageBox>\r\n      ) : (\r\n        <MessageBox variant=\"danger\">Chưa Thanh Toán</MessageBox>\r\n      )}\r\n    </Card.Body>\r\n  );\r\n};\r\n\r\nexport default OrderPayment;\r\n","import React from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst OrderItem = ({ order }) => {\r\n  return (\r\n    <Card.Body>\r\n      <Card.Title>Sản Phẩm</Card.Title>\r\n      <ListGroup variant=\"flush\">\r\n        {order.orderItems.map((item) => (\r\n          <ListGroup.Item key={item._id}>\r\n            <Row className=\"align-items-center\">\r\n              <Col md={6}>\r\n                <img src={item.image} alt={item.name} className=\"image\"></img>{\" \"}\r\n                <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n              </Col>\r\n              <Col md={3}>\r\n                <span>{item.quantity}</span>\r\n              </Col>\r\n              <Col md={3}>${item.price}</Col>\r\n            </Row>\r\n          </ListGroup.Item>\r\n        ))}\r\n      </ListGroup>\r\n    </Card.Body>\r\n  );\r\n};\r\n\r\nexport default OrderItem;\r\n","import React from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport { PayPalButtons } from \"@paypal/react-paypal-js\";\r\nimport Loading from \"../Loading/Loading\";\r\nimport { useStore } from \"../../Context/Store-Context\";\r\nimport Button from \"../button/Button\";\r\n\r\nconst OrderProceed = ({\r\n  order,\r\n  isPending,\r\n  loadingPay,\r\n  createOrder,\r\n  onApprove,\r\n  onError,\r\n  deliverOrderHandler,\r\n  loadingDeliver,\r\n}) => {\r\n  const { state } = useStore();\r\n  const { userInfo } = state;\r\n  return (\r\n    <Card.Body>\r\n      <Card.Title>Thành Tiền</Card.Title>\r\n      <ListGroup variant=\"flush\">\r\n        <ListGroup.Item>\r\n          <Row>\r\n            <Col>Tiền hàng</Col>\r\n            <Col>${order.itemsPrice.toFixed(2)}</Col>\r\n          </Row>\r\n        </ListGroup.Item>\r\n        <ListGroup.Item>\r\n          <Row>\r\n            <Col>Phí vận chuyển</Col>\r\n            <Col>${order.shippingPrice.toFixed(2)}</Col>\r\n          </Row>\r\n        </ListGroup.Item>\r\n        <ListGroup.Item>\r\n          <Row>\r\n            <Col>Thuế</Col>\r\n            <Col>${order.taxPrice.toFixed(2)}</Col>\r\n          </Row>\r\n        </ListGroup.Item>\r\n        <ListGroup.Item>\r\n          <Row>\r\n            <Col>\r\n              <strong>Tổng cộng</strong>\r\n            </Col>\r\n            <Col>\r\n              <strong>${order.totalPrice.toFixed(2)}</strong>\r\n            </Col>\r\n          </Row>\r\n        </ListGroup.Item>\r\n        {!order.isPaid && (\r\n          <ListGroup.Item>\r\n            {isPending ? (\r\n              <Loading />\r\n            ) : (\r\n              <div>\r\n                <PayPalButtons\r\n                  createOrder={createOrder}\r\n                  onApprove={onApprove}\r\n                  onError={onError}\r\n                ></PayPalButtons>\r\n              </div>\r\n            )}\r\n            {loadingPay && <Loading></Loading>}\r\n          </ListGroup.Item>\r\n        )}\r\n        {/* xác nhận giao hàng */}\r\n        {userInfo.isAdmin && order.isPaid && !order.isDelivered && (\r\n          <ListGroup.Item>\r\n            <div className=\"d-grid\">\r\n              <Button\r\n                type=\"button\"\r\n                kind=\"ghost\"\r\n                onClick={deliverOrderHandler}\r\n                isLoading={loadingDeliver}\r\n              >\r\n                Xác Nhận Giao Hàng\r\n              </Button>\r\n            </div>\r\n          </ListGroup.Item>\r\n        )}\r\n      </ListGroup>\r\n    </Card.Body>\r\n  );\r\n};\r\n\r\nexport default OrderProceed;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useReducer } from \"react\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useStore } from \"../Context/Store-Context\";\r\nimport Loading from \"../Components/Loading/Loading\";\r\nimport MessageBox from \"../Components/MessageBox\";\r\nimport { getError } from \"../Util/constanst\";\r\nimport { initialState, reducer } from \"../Reducer/useReducerOrder\";\r\nimport styled from \"styled-components\";\r\nimport OrderShipping from \"../Components/Order/OrderShipping\";\r\nimport OrderPayment from \"../Components/Order/OrderPayment\";\r\nimport OrderItem from \"../Components/Order/OrderItem\";\r\nimport OrderProceed from \"../Components/Order/OrderProceed\";\r\nimport { usePayPalScriptReducer } from \"@paypal/react-paypal-js\";\r\nimport Swal from \"sweetalert2\";\r\nimport Heading from \"../Layout/Heading\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 100vh;\r\n  padding: 40px;\r\n  .image {\r\n    width: 50px;\r\n    height: 50px;\r\n    object-fit: cover;\r\n  }\r\n`;\r\n\r\nconst OrderScreen = () => {\r\n  const { state } = useStore();\r\n  const { userInfo } = state;\r\n\r\n  //lấy id của đơn hàng thanh toán\r\n  const params = useParams();\r\n  const { id: orderId } = params;\r\n  const navigate = useNavigate();\r\n\r\n  //lấy từ useReducerOrder\r\n  const [\r\n    {\r\n      loading,\r\n      error,\r\n      order,\r\n      successPay,\r\n      loadingPay,\r\n      loadingDeliver,\r\n      successDeliver,\r\n    },\r\n    dispatch,\r\n  ] = useReducer(reducer, initialState);\r\n\r\n  //tạo reducer của PayPal\r\n  const [{ isPending }, paypalDispatch] = usePayPalScriptReducer();\r\n\r\n  //hàm xử lý \"tạo đơn hàng bằng paypal\"\r\n  const createOrder = (data, actions) => {\r\n    return actions.order\r\n      .create({\r\n        purchase_units: [\r\n          {\r\n            amount: { value: order.totalPrice },\r\n          },\r\n        ],\r\n      })\r\n      .then((orderID) => {\r\n        return orderID;\r\n      });\r\n  };\r\n\r\n  //hàm xử lý \"phê duyệt\" đơn hàng\r\n  const onApprove = (data, actions) => {\r\n    return actions.order.capture().then(async function (details) {\r\n      try {\r\n        dispatch({ type: \"PAY_REQUEST\" });\r\n        //để sửa dữ liệu thì bạn cần dùng method PUT hoặc PATCH\r\n        //PUT – Update: Cập nhật dữ liệu\r\n        const { data } = await axios.put(\r\n          `/api/orders/${order._id}/pay`,\r\n          details,\r\n          {\r\n            headers: { authorization: `Bearer ${userInfo.token}` },\r\n          }\r\n        );\r\n        dispatch({ type: \"PAY_SUCCESS\", payload: data });\r\n        Swal.fire({\r\n          position: \"center\",\r\n          icon: \"success\",\r\n          title: \"Thành Công\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      } catch (err) {\r\n        dispatch({ type: \"PAY_FAIL\", payload: getError(err) });\r\n        Swal.fire(\"Failed\", \"error\", \"warning\");\r\n      }\r\n    });\r\n  };\r\n\r\n  //hàm xử lý lỗi\r\n  const onError = (err) => {\r\n    console.log(getError(err));\r\n  };\r\n\r\n  //xử lý logic hiển thị  đơn hàng trả về\r\n  useEffect(() => {\r\n    const fetchOrder = async () => {\r\n      try {\r\n        dispatch({ type: \"FETCH_REQUEST\" });\r\n        //lấy dũ liệu từ api order trả về thông tin đã thanh toán từ api order\r\n        // để lấy ra list dữ liệu, bạn cần gửi request lên server với method GET\r\n        const { data } = await axios.get(`/api/orders/${orderId}`, {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n      } catch (err) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: getError(err) });\r\n      }\r\n    };\r\n\r\n    if (!userInfo) {\r\n      return navigate(\"/signin\");\r\n    }\r\n    //điều kiện tránh trùng id người dùng khi có hóa đơn trùng nhau\r\n    if (\r\n      !order._id ||\r\n      successPay ||\r\n      successDeliver ||\r\n      (order._id && order._id !== orderId)\r\n    ) {\r\n      fetchOrder();\r\n      if (successPay) {\r\n        dispatch({ type: \"PAY_RESET\" });\r\n      }\r\n      if (successDeliver) {\r\n        dispatch({ type: \"DELIVER_RESET\" });\r\n      }\r\n    } else {\r\n      const loadPaypalScript = async () => {\r\n        const { data: clientId } = await axios.get(\"/api/keys/paypal\", {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        paypalDispatch({\r\n          type: \"resetOptions\",\r\n          value: {\r\n            \"client-id\": clientId,\r\n            currency: \"USD\",\r\n          },\r\n        });\r\n        paypalDispatch({ type: \"setLoadingStatus\", value: \"pending\" });\r\n      };\r\n      loadPaypalScript();\r\n    }\r\n  }, [\r\n    order,\r\n    userInfo,\r\n    orderId,\r\n    navigate,\r\n    paypalDispatch,\r\n    successPay,\r\n    successDeliver,\r\n  ]);\r\n\r\n  //logic xử lý xác nhận giao hàng\r\n  const deliverOrderHandler = async () => {\r\n    try {\r\n      dispatch({ type: \"DELIVER_REQUEST\" });\r\n      const { data } = await axios.put(\r\n        `/api/orders/${order._id}/deliver`,\r\n        {},\r\n        {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n      dispatch({ type: \"DELIVER_SUCCESS\", payload: data });\r\n      Swal.fire(\"Sản Phẩm Mới!\", \"Giao Hàng Thành Công\", \"success\");\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n      dispatch({ type: \"DELIVER_FAIL\" });\r\n    }\r\n  };\r\n\r\n  return loading ? (\r\n    <Loading></Loading>\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <Wrapper>\r\n      <Heading>Đơn Hàng {orderId}</Heading>\r\n      <Row>\r\n        <Col md={8}>\r\n          <Card className=\"mb-3\">\r\n            {/* component orderShipping */}\r\n            <OrderShipping order={order} />\r\n          </Card>\r\n          <Card className=\"mb-3\">\r\n            {/* component payment */}\r\n            <OrderPayment order={order} />\r\n          </Card>\r\n          <Card className=\"mb-3\">\r\n            {/* component OrderItem */}\r\n            <OrderItem order={order} />\r\n          </Card>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card className=\"mb-3\">\r\n            {/* component OrderProceed */}\r\n            <OrderProceed\r\n              order={order}\r\n              isPending={isPending}\r\n              loadingPay={loadingPay}\r\n              createOrder={createOrder}\r\n              onApprove={onApprove}\r\n              onError={onError}\r\n              deliverOrderHandler={deliverOrderHandler}\r\n              loadingDeliver={loadingDeliver}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;\r\n"],"names":["className","MessageBox","props","variant","children","LoadingStyles","styled","size","borderSize","ButtonStyles","height","kind","css","theme","primary","secondary","grayLight","Button","type","onClick","isLoading","to","child","NavLink","style","display","prototype","PropTypes","HeadingStyles","reducer","state","action","loading","error","order","payload","loadingPay","successPay","loadingDeliver","successDeliver","initialState","Card","shippingAddress","fullName","address","city","postalCode","country","isDelivered","deliveredAt","paymentMethod","isPaid","paidAt","ListGroup","orderItems","map","item","Row","Col","md","src","image","alt","name","Link","slug","quantity","price","_id","isPending","createOrder","onApprove","onError","deliverOrderHandler","userInfo","useStore","itemsPrice","toFixed","shippingPrice","taxPrice","totalPrice","Loading","isAdmin","Wrapper","orderId","useParams","id","navigate","useNavigate","useReducer","dispatch","usePayPalScriptReducer","paypalDispatch","useEffect","fetchOrder","axios","headers","authorization","token","data","getError","loadPaypalScript","clientId","value","currency","Swal","toast","Heading","actions","create","purchase_units","amount","then","orderID","capture","details","position","icon","title","showConfirmButton","timer","err","console","log"],"sourceRoot":""}