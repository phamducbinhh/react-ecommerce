{"version":3,"file":"static/js/33.473c7866.chunk.js","mappings":"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","sources":["Components/Loading/Loading.js","Components/PageHero.js","Components/Product/ProductImage.js","Components/Rating.js","Reducer/reducerProduct.js","Components/Card/AddToCart.js","Screen/ProductScreen.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className='section secton-center'>\r\n      <div className='loading'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nconst PageHero = ({ title, product }) => {\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"section-center\">\r\n        <h3>\r\n          <Link to=\"/\">Trang Chủ </Link>\r\n          {product && <Link to=\"/product\">/ Sản Phẩm</Link>}/ {title}\r\n        </h3>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.section`\r\n  background: var(--clr-primary-10);\r\n  width: 100%;\r\n  min-height: 20vh;\r\n  display: flex;\r\n  align-items: center;\r\n  color: var(--clr-primary-1);\r\n  a {\r\n    color: var(--clr-primary-3);\r\n    padding: 0.5rem;\r\n    transition: var(--transition);\r\n  }\r\n  a:hover {\r\n    color: var(--clr-primary-1);\r\n  }\r\n`;\r\n\r\nexport default PageHero;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  img {\r\n    width: 100%;\r\n    display: block;\r\n    object-fit: cover;\r\n  }\r\n`;\r\nconst ProductImage = ({ image }) => {\r\n  return (\r\n    <Wrapper>\r\n      <img src={image} alt=\"\" className=\"main \" />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProductImage;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst RateTingStyles = styled.div`\r\n  .rating span {\r\n    color: #ffc000;\r\n  }\r\n`;\r\nconst Rating = ({ rating, numReviews, className = \"\", caption }) => {\r\n  return (\r\n    <RateTingStyles>\r\n      <div className={`rating ${className}`}>\r\n        <span>\r\n          <i\r\n            className={\r\n              rating >= 1\r\n                ? \"fas fa-star\"\r\n                : rating >= 0.5\r\n                ? \"fas fa-star-half-alt\"\r\n                : \"far fa-star\"\r\n            }\r\n          />\r\n        </span>\r\n        <span>\r\n          <i\r\n            className={\r\n              rating >= 2\r\n                ? \"fas fa-star\"\r\n                : rating >= 1.5\r\n                ? \"fas fa-star-half-alt\"\r\n                : \"far fa-star\"\r\n            }\r\n          />\r\n        </span>\r\n        <span>\r\n          <i\r\n            className={\r\n              rating >= 3\r\n                ? \"fas fa-star\"\r\n                : rating >= 2.5\r\n                ? \"fas fa-star-half-alt\"\r\n                : \"far fa-star\"\r\n            }\r\n          />\r\n        </span>\r\n        <span>\r\n          <i\r\n            className={\r\n              rating >= 4\r\n                ? \"fas fa-star\"\r\n                : rating >= 3.5\r\n                ? \"fas fa-star-half-alt\"\r\n                : \"far fa-star\"\r\n            }\r\n          />\r\n        </span>\r\n        <span>\r\n          <i\r\n            className={\r\n              rating >= 5\r\n                ? \"fas fa-star\"\r\n                : rating >= 4.5\r\n                ? \"fas fa-star-half-alt\"\r\n                : \"far fa-star\"\r\n            }\r\n          />\r\n        </span>\r\n        {caption ? (\r\n          <span>{caption}</span>\r\n        ) : (\r\n          <span>{\" \" + numReviews + \" reviews\"}</span>\r\n        )}\r\n      </div>\r\n    </RateTingStyles>\r\n  );\r\n};\r\n\r\nexport default Rating;\r\n","//giá trị khởi tạo của state\r\nconst initialState = {\r\n  products: [],\r\n  loading: true,\r\n  error: \"\",\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, products: action.payload, loading: false };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport { initialState, reducer };\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useStore } from \"../../Context/Store-Context\";\r\nimport axios from \"axios\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin-top: 1rem;\r\n  .active {\r\n    opacity: 1;\r\n  }\r\n  .btn-container {\r\n    margin-top: 2rem;\r\n  }\r\n  .btn {\r\n    margin-top: 1rem;\r\n    width: 140px;\r\n    text-align: center;\r\n    font-size: 12px;\r\n  }\r\n`;\r\nconst AddToCart = ({ product }) => {\r\n  //nhận giá trị đã map từ component ProductSreen thông qua props\r\n  const { state, dispatch } = useStore();\r\n  //lấy cart từ trong react-context\r\n  const { cart } = state;\r\n\r\n  //hàm click add to cart\r\n  const handleAddToCart = async () => {\r\n    //tìm sản phẩm có tồn tại trong cart hay không\r\n    const existItem = cart.cartItems.find((x) => x._id === product._id);\r\n    //nếu có sản phẩm tồn tại thì số lượng tăng lên 1\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    // gọi api {data} cũng chính bằng props.product nhưng data = id còn product = slug\r\n    const { data } = await axios.get(`/api/products/${product._id}`);\r\n    //nếu sản phẩm hiện có nhỏ hơn số lượng thì sẽ thông báo\r\n    if (data.countInStock < quantity) {\r\n      return;\r\n    }\r\n    // thực hiện hành động add\r\n    dispatch({\r\n      type: \"CART_ADD_ITEM\",\r\n      payload: { ...product, quantity },\r\n    });\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"\">\r\n        {product.countInStock > 0 && (\r\n          <Link to={\"/cart\"} className=\"btn\" onClick={handleAddToCart}>\r\n            thêm vào giỏ hàng\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default AddToCart;\r\n","import React, { useEffect, useReducer } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { initialState, reducer } from \"../Reducer/reducerProduct\";\r\nimport styled from \"styled-components\";\r\nimport Rating from \"../Components/Rating\";\r\nimport PageHero from \"../Components/PageHero\";\r\nimport AddToCart from \"../Components/Card/AddToCart\";\r\nimport ProductImage from \"../Components/Product/ProductImage\";\r\nimport Loading from \"../Components/Loading/Loading\";\r\n\r\nconst Wrapper = styled.div`\r\n  h2 {\r\n    font-weight: 700;\r\n  }\r\n  .product-center {\r\n    display: grid;\r\n    gap: 4rem;\r\n    margin-top: 2rem;\r\n  }\r\n  .price {\r\n    color: var(--clr-primary-5);\r\n  }\r\n  .desc {\r\n    line-height: 2;\r\n    max-width: 45em;\r\n  }\r\n  .info {\r\n    text-transform: capitalize;\r\n    width: 300px;\r\n    display: grid;\r\n    grid-template-columns: 125px 1fr;\r\n    span {\r\n      font-weight: 700;\r\n    }\r\n  }\r\n  .btn {\r\n    padding: 5px;\r\n    border-radius: 8px;\r\n  }\r\n  @media (min-width: 992px) {\r\n    .product-center {\r\n      grid-template-columns: 1fr 1fr;\r\n      align-items: center;\r\n    }\r\n    .price {\r\n      font-size: 1.25rem;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ProductScreen = () => {\r\n  const params = useParams();\r\n  const { slug } = params;\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const { products, loading, error } = state; //destructuring state\r\n\r\n  //call api get products bằng axios\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      //loading = true\r\n      try {\r\n        dispatch({ type: \"FETCH_REQUEST\" });\r\n        //call api theo slug từng sản phẩm\r\n        // để lấy ra list dữ liệu, bạn cần gửi request lên server với method GET\r\n        const result = await axios.get(`/api/products/slug/${slug}`);\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\r\n        // Tương tự khi sử dụng state : setState(result.data)\r\n      } catch (err) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: err.message });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [slug]);\r\n  return (\r\n    <Wrapper>\r\n      <PageHero title={products.name} />\r\n      {loading ? (\r\n        <Loading />\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : (\r\n        <div className=\"section section-center page\">\r\n          <Link to=\"/\" className=\"btn\">\r\n            quay lại\r\n          </Link>\r\n          <div className=\"product-center\">\r\n            <div className=\"product-image\">\r\n              <ProductImage image={products.image} />\r\n            </div>\r\n            <section className=\"content\">\r\n              <h2>{products.name}</h2>\r\n              <Rating\r\n                rating={products.rating}\r\n                numReviews={products.numReviews}\r\n                className=\"mt-2 mb-2\"\r\n              />\r\n              <h5 className=\"price\">${products.price}</h5>\r\n\r\n              <p className=\"info\">\r\n                <span>mô tả : </span>\r\n                {products.description}\r\n              </p>\r\n              <p className=\"info\">\r\n                <span>nhãn hiệu :</span>\r\n                {products.brand}\r\n              </p>\r\n              <p className=\"info\">\r\n                <span>trạng thái :</span>\r\n                {products.countInStock > 0 ? (\r\n                  <span className=\"text-green-500\">còn hàng</span>\r\n                ) : (\r\n                  <span className=\"text-red-500\">hết hàng</span>\r\n                )}\r\n              </p>\r\n              <hr />\r\n              <AddToCart product={products} />\r\n            </section>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n"],"names":["className","Wrapper","styled","title","product","Link","to","image","src","alt","RateTingStyles","rating","numReviews","caption","initialState","products","loading","error","reducer","state","action","type","payload","useStore","dispatch","cart","handleAddToCart","existItem","cartItems","find","x","_id","quantity","axios","data","countInStock","onClick","slug","useParams","useReducer","useEffect","fetchData","result","message","PageHero","name","Loading","ProductImage","Rating","price","description","brand"],"sourceRoot":""}