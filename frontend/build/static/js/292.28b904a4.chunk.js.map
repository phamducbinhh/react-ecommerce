{"version":3,"file":"static/js/292.28b904a4.chunk.js","mappings":"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","sources":["Components/ActionDelete.js","Components/ActionView.js","Components/Loading/Loading.js","Components/MessageBox.js","Layout/Heading.js","Reducer/reducerAdminOrder.js","modules/TableOrderList.js","modules/OrderListPage.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst ActionDelete = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 text-red-500 border border-gray-200 rounded cursor-pointer hover:text-red-600\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionDelete;\r\n","import React from \"react\";\r\n\r\nconst ActionView = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 text-orange-500 border border-gray-200 rounded cursor-pointer hover:text-orange-700\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n        />\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionView;","import React from 'react'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className='section secton-center'>\r\n      <div className='loading'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import Alert from \"react-bootstrap/Alert\";\r\n\r\nexport default function MessageBox(props) {\r\n  return <Alert variant={props.variant || \"info\"}>{props.children}</Alert>;\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst HeadingStyles = styled.h2`\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  margin-bottom: 55px;\r\n  color: var(--clr-primary-5);\r\n  @media only screen and (max-width: 740px) {\r\n    font-size: 20px;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\nconst Heading = ({ className = \"\", children }) => {\r\n  return <HeadingStyles className={className}>{children}</HeadingStyles>;\r\n};\r\n\r\nexport default Heading;\r\n","//reducer admin quản lý các đơn hàng của tất cả người dùng\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    //lấy dữ liệu danh sách orders từ api\r\n    case \"FETCH_REQUEST\": {\r\n      return { ...state, loading: true };\r\n    }\r\n    case \"FETCH_SUCCESS\": {\r\n      return { ...state, orders: action.payload, loading: false };\r\n    }\r\n    case \"FETCH_ERROR\": {\r\n      return { ...state, error: action.payload, loading: false };\r\n    }\r\n    //delete-orders\r\n    case \"DELETE_REQUEST\": {\r\n      return { ...state, loading: true, successDelete: false };\r\n    }\r\n    case \"DELETE_SUCCESS\": {\r\n      return { ...state, loading: false, successDelete: true };\r\n    }\r\n    case \"DELETE_FAILURE\": {\r\n      return { ...state, loading: false, successDelete: false };\r\n    }\r\n    case \"DELETE_RESET\": {\r\n      return { ...state, loading: false, successDelete: false };\r\n    }\r\n\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  error: \"\",\r\n  orders: {},\r\n};\r\nexport { reducer, initialState };\r\n","import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ActionDelete from \"../Components/ActionDelete\";\r\nimport ActionView from \"../Components/ActionView\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\nimport { useStore } from \"../Context/Store-Context\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst TableOrderList = ({ orders, dispatch }) => {\r\n  const navigate = useNavigate();\r\n  const { state } = useStore();\r\n  const { userInfo } = state;\r\n\r\n  //hàm delete order list\r\n  const deleteOrder = async (order) => {\r\n    //thu vien confirm deletedc\r\n    Swal.fire({\r\n      text: \"Bạn muốn xóa phần nầy!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Xác Nhận\",\r\n    }).then(async (result) => {\r\n      if (result.isConfirmed) {\r\n        //xoa orders trong api\r\n        try {\r\n          dispatch({ type: \"DELETE_REQUEST\" });\r\n          //Method Deleted để xóa\r\n          await axios.delete(`/api/orders/${order._id}`, {\r\n            //mô tả Bearer Token cấp quyền truy cập cho người dùng khi có token hợp lệ.\r\n            headers: { Authorization: `Bearer ${userInfo.token}` },\r\n          });\r\n          dispatch({ type: \"DELETE_SUCCESS\" });\r\n        } catch (err) {\r\n          toast.error(err.message, {\r\n            pauseOnHover: false,\r\n            delay: 0,\r\n          });\r\n          dispatch({ type: \"DELETE_FAILURE\" });\r\n        }\r\n        Swal.fire(\"Deleted!\", \"Xóa Thành Công.\", \"success\");\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <table className=\"section-center\">\r\n      <thead className=\"thead\">\r\n        <tr>\r\n          <th>MÃ ĐƠN</th>\r\n          <th>KHÁCH HÀNG</th>\r\n          <th>NGÀY ĐẶT</th>\r\n          <th>TỔNG CỘNG</th>\r\n          <th>THANH TOÁN</th>\r\n          <th>GIAO HÀNG</th>\r\n          <th>CHỈNH SỬA</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {/* map data */}\r\n        {orders.map((order) => (\r\n          <tr key={order._id}>\r\n            <td>{order._id}</td>\r\n            <td>{order.user ? order.user.name : \"DELETED USER\"}</td>\r\n            <td>{order.createdAt.substring(0, 10)}</td>\r\n            <td>{order.totalPrice.toFixed(2)}</td>\r\n            <td>{order.isPaid ? order.paidAt.substring(0, 10) : \"No\"}</td>\r\n            <td>\r\n              {order.isDelivered ? order.deliveredAt.substring(0, 10) : \"No\"}\r\n            </td>\r\n            <td>\r\n              <div className=\"flex items-center justify-center gap-x-3\">\r\n                <ActionView\r\n                  onClick={() => {\r\n                    navigate(`/order/${order._id}`);\r\n                  }}\r\n                />\r\n                <ActionDelete onClick={() => deleteOrder(order)} />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default TableOrderList;\r\n","import React, { useEffect, useReducer } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useStore } from \"../Context/Store-Context\";\r\nimport { initialState, reducer } from \"../Reducer/reducerAdminOrder\";\r\nimport TableOrderList from \"./TableOrderList\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../Components/Loading/Loading\";\r\nimport MessageBox from \"../Components/MessageBox\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getError } from \"../Util/constanst\";\r\nimport Heading from \"../Layout/Heading\";\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 100vh;\r\n  padding: 40px;\r\n  thead {\r\n    height: 50px;\r\n  }\r\n  tr {\r\n    height: 70px;\r\n  }\r\n`;\r\nconst OrderListPage = () => {\r\n  const { state } = useStore();\r\n  const { userInfo } = state;\r\n\r\n  //reducerAdminOrder\r\n  const [{ loading, error, orders, successDelete }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n\r\n  //get dữ liệu từ api để lấy ra danh sách đơn hàng của tất cả các tài khoản\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        dispatch({ type: \"FETCH_REQUEST\" });\r\n        // để lấy ra list dữ liệu, bạn cần gửi request lên server với method GET\r\n        const { data } = await axios.get(`/api/orders`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n      } catch (err) {\r\n        toast.error(err.message, {\r\n          pauseOnHover: false,\r\n          delay: 0,\r\n        });\r\n        dispatch({ type: \"FETCH_ERROR\", payload: getError(err) });\r\n      }\r\n    };\r\n    //cập nhật lại bảng ngay sau khi xóa\r\n    if (successDelete) {\r\n      dispatch({ type: \"DELETE_RESET\" });\r\n    } else {\r\n      fetchData();\r\n    }\r\n  }, [successDelete, userInfo]);\r\n\r\n  return (\r\n    <Wrapper className=\"artical-center\">\r\n      <Heading>Danh sách đơn hàng</Heading>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <TableOrderList orders={orders} dispatch={dispatch} />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default OrderListPage;\r\n"],"names":["onClick","className","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","MessageBox","props","variant","children","HeadingStyles","styled","reducer","state","action","type","loading","orders","payload","error","successDelete","Error","initialState","dispatch","navigate","useNavigate","userInfo","useStore","deleteOrder","order","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","axios","_id","headers","Authorization","token","toast","message","pauseOnHover","delay","map","user","name","createdAt","substring","totalPrice","toFixed","isPaid","paidAt","isDelivered","deliveredAt","ActionView","ActionDelete","Wrapper","useReducer","useEffect","fetchData","data","getError","Heading","Loading"],"sourceRoot":""}