"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[898],{8255:function(n,e,r){r(2791);var t=r(184);e.Z=function(){return(0,t.jsx)("div",{className:"section secton-center",children:(0,t.jsx)("div",{className:"loading"})})}},1997:function(n,e,r){r.d(e,{Z:function(){return o}});var t=r(5572),i=r(184);function o(n){return(0,i.jsx)(t.Z,{variant:n.variant||"info",children:n.children})}},8412:function(n,e,r){r.d(e,{Z:function(){return j}});var t,i,o,a,c,s,l=r(1413),d=r(5987),u=r(168),p=(r(2791),r(6444)),h=r(3504),m=r(2007),f=r.n(m),x=r(184),g=p.ZP.div(t||(t=(0,u.Z)(["\n  width: ",";\n  height: ",";\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  border-radius: 100rem;\n  display: inline-block;\n  animation: spinner 1s infinite linear;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.borderSize}),(function(n){return n.borderSize}),(function(n){return n.borderSize})),Z=function(n){var e=n.size,r=void 0===e?"40px":e,t=n.borderSize,i=void 0===t?"5px":t;return(0,x.jsx)(g,{size:r,borderSize:i})},y=["type","onClick","children","kind"],v=p.ZP.button(i||(i=(0,u.Z)(["\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 16px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ",";\n  ",";\n  ",";\n  ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),(function(n){return n.height||"45px"}),(function(n){return"secondary"===n.kind&&(0,p.iv)(o||(o=(0,u.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(n){return n.theme.primary}))}),(function(n){return"primary"===n.kind&&(0,p.iv)(a||(a=(0,u.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(n){return n.theme.primary}),(function(n){return n.theme.secondary}))}),(function(n){return"ghost"===n.kind&&(0,p.iv)(c||(c=(0,u.Z)(["\n      color: ",";\n      background-color: var(--clr-primary-5);\n      border: none;\n      width: 100%;\n    "])),(function(n){return n.theme.grayLight}))}),(function(n){return"ship"===n.kind&&(0,p.iv)(s||(s=(0,u.Z)(["\n      color: ",";\n      background-color: var(--clr-primary-5);\n      border: none;\n      width: 50%;\n    "])),(function(n){return n.theme.grayLight}))})),b=function(n){var e=n.type,r=void 0===e?"button":e,t=n.onClick,i=void 0===t?function(){}:t,o=n.children,a=n.kind,c=void 0===a?"primary":a,s=(0,d.Z)(n,y),u=s.isLoading,p=s.to,m=u?(0,x.jsx)(Z,{}):o;return""!==p&&"string"===typeof p?(0,x.jsx)(h.NavLink,{to:p,style:{display:"inline-block"},children:(0,x.jsx)(v,(0,l.Z)((0,l.Z)({type:r,kind:c},s),{},{children:m}))}):(0,x.jsx)(v,(0,l.Z)((0,l.Z)({type:r,kind:c,onClick:i},s),{},{children:m}))};b.prototype={type:f().oneOf(["button","submit"]),onClick:f().func,children:f().node,kind:f().string,isLoading:f().bool,to:f().oneOf(["primary","secondary","ghost"])};var j=b},7157:function(n,e,r){var t,i=r(168),o=(r(2791),r(6444)),a=r(184),c=o.ZP.div(t||(t=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  row-gap: 20px;\n  margin-bottom: 40px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"])));e.Z=function(n){var e=n.children;return(0,a.jsx)(c,{children:e})}},4321:function(n,e,r){var t,i=r(1413),o=r(5987),a=r(168),c=(r(2791),r(6444)),s=r(1134),l=r(184),d=["name","type","children","value","control"],u=c.ZP.div(t||(t=(0,a.Z)(["\n  position: relative;\n  width: 100%;\n  input {\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: 8px;\n    font-weight: 500;\n    transition: all 0.2s linear;\n    border: 1px solid transparent;\n    outline: none;\n  }\n  input:focus {\n    background-color: white;\n    border-color: var(--clr-primary-1);\n  }\n  input::-webkit-input-placeholder {\n    color: #84878b;\n  }\n  input::-moz-input-placeholder {\n    color: #84878b;\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n  @media only screen and (max-width: 740px) {\n    input {\n      padding: 12px;\n    }\n    input::-webkit-input-placeholder {\n      font-size: 12px;\n    }\n    input::-moz-input-placeholder {\n      color: #84878b;\n    }\n  }\n"])),(function(n){return n.hasIcon?"10px 60px 10px 20px":"10px"}),(function(n){return n.theme.grayLight}));e.Z=function(n){var e=n.name,r=void 0===e?"":e,t=n.type,a=void 0===t?"text":t,c=n.children,p=(n.value,n.control),h=(0,o.Z)(n,d),m=(0,s.bc)({control:p,name:r,defaultValue:""}).field;return(0,l.jsxs)(u,{hasIcon:!!c,children:[(0,l.jsx)("input",(0,i.Z)((0,i.Z)({id:r,type:a},m),h)),c?(0,l.jsx)("div",{className:"input-icon",children:c}):null]})}},3014:function(n,e,r){var t,i=r(1413),o=r(5987),a=r(168),c=(r(2791),r(6444)),s=r(184),l=["htmlFor","children"],d=c.ZP.label(t||(t=(0,a.Z)(["\n  font-weight: 600;\n  cursor: pointer;\n"])));e.Z=function(n){var e=n.htmlFor,r=void 0===e?"":e,t=n.children,a=(0,o.Z)(n,l);return(0,s.jsx)(d,(0,i.Z)((0,i.Z)({htmlFor:r},a),{},{children:t}))}},3298:function(n,e,r){var t,i=r(168),o=(r(2791),r(6444)),a=r(184),c=o.ZP.h2(t||(t=(0,i.Z)(["\n  text-align: center;\n  font-weight: bold;\n  font-size: 28px;\n  margin-bottom: 55px;\n  color: var(--clr-primary-5);\n  @media only screen and (max-width: 740px) {\n    font-size: 20px;\n    margin-bottom: 30px;\n  }\n"])));e.Z=function(n){var e=n.className,r=void 0===e?"":e,t=n.children;return(0,a.jsx)(c,{className:r,children:t})}},898:function(n,e,r){r.r(e),r.d(e,{default:function(){return L}});var t,i=r(8214),o=r(5861),a=r(885),c=r(168),s=r(2791),l=r(6444),d=r(1687),u=r(6871),p=r(1413),h=function(n,e){switch(e.type){case"FETCH_REQUEST":case"UPDATE_REQUEST":return(0,p.Z)((0,p.Z)({},n),{},{loading:!0});case"FETCH_SUCCESS":return(0,p.Z)((0,p.Z)({},n),{},{products:e.payload,loading:!1});case"FETCH_FAIL":return(0,p.Z)((0,p.Z)({},n),{},{loading:!1,error:e.payload});case"UPDATE_SUCCESS":case"UPDATE_FAIL":return(0,p.Z)((0,p.Z)({},n),{},{loading:!1});case"UPLOAD_REQUEST":return(0,p.Z)((0,p.Z)({},n),{},{loadingUpload:!0,errorUpload:""});case"UPLOAD_SUCCESS":return(0,p.Z)((0,p.Z)({},n),{},{loadingUpload:!1,errorUpload:""});case"UPLOAD_FAIL":return(0,p.Z)((0,p.Z)({},n),{},{loadingUpload:!1,errorUpload:e.payload});default:return n}},m={products:[],loading:!0,error:""},f=r(7157),x=r(3014),g=r(4321),Z=r(1134),y=r(8412),v=r(8419),b=r(4569),j=r.n(b),k=r(8255),S=r(1997),w=r(1830),U=r.n(w),C=r(5987),E=r(184),F=["name","className","image"],T=function(n){var e=n.name,r=n.className,t=void 0===r?"":r,i=(n.image,(0,C.Z)(n,F));return(0,E.jsx)("label",{className:"cursor-pointer flex items-center justify-center bg-gray-100 border border-dashed w-full h-[50px] rounded-lg ".concat(t," relative overflow-hidden group"),children:(0,E.jsx)("input",(0,p.Z)({type:"file",name:e,className:"hidden-input",onChange:function(){}},i))})},A=r(9085),P=r(3298),D=l.ZP.div(t||(t=(0,c.Z)(["\n  min-height: 100vh;\n  padding: 40px;\n  .form {\n    max-width: 700px;\n    margin: 50px auto;\n  }\n"]))),L=function(){var n=(0,u.s0)(),e=(0,u.UO)().id,r=(0,d.o)().state.userInfo,t=(0,s.useReducer)(h,m),c=(0,a.Z)(t,2),l=c[0],p=l.loading,b=l.error,w=l.loadingUpload,C=c[1],F=(0,Z.cI)(),L=F.control,N=F.handleSubmit,_=F.setValue,z=F.formState.isSubmitting;(0,s.useEffect)((function(){var n=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(){var t,o;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,C({type:"FETCH_REQUEST"}),n.next=4,j().get("/api/products/".concat(e),{headers:{Authorization:"Bearer ".concat(r.token)}});case 4:t=n.sent,o=t.data,C({type:"FETCH_SUCCESS"}),_("name",o.name),_("slug",o.slug),_("price",o.price),_("category",o.category),_("brand",o.brand),_("countInStock",o.countInStock),_("description",o.description),_("image",o.image),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),C({type:"FETCH_FAIL",payload:(0,v.by)(n.t0)});case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(){return n.apply(this,arguments)}}();n()}),[e,_,r]);var I=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(o){var a,c,s,l,d,u,p,h;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.name,c=o.slug,s=o.price,l=o.image,d=o.category,u=o.brand,p=o.countInStock,h=o.description,t.prev=1,C({type:"UPDATE_REQUEST"}),t.next=5,j().put("/api/products/".concat(e),{name:a,slug:c,price:s,image:l,category:d,brand:u,countInStock:p,description:h},{headers:{Authorization:"Bearer ".concat(r.token)}});case 5:U().fire({position:"center",icon:"success",title:"Update Th\xe0nh C\xf4ng",showConfirmButton:!1,timer:1500}),C({type:"UPDATE_SUCCESS"}),n("/admin/products"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),U().fire("Failed","error","warning",(0,v.by)(t.t0)),C({type:"UPDATE_FAIL"});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(n){return t.apply(this,arguments)}}(),O=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){var t,o,a,c,s,l=arguments;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"image",o=e.target.files[0],(a=new FormData).append("file",o),n.prev=4,C({type:"UPLOAD_REQUEST"}),n.next=8,j().post("/api/upload",a,{headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(r.token)}});case 8:c=n.sent,s=c.data,C({type:"UPLOAD_SUCCESS"}),U().fire({position:"center",icon:"success",title:"Upload success",showConfirmButton:!1,timer:1500}),_(t,s.secure_url),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(4),A.Am.error(n.t0.message,{pauseOnHover:!1,delay:0}),C({type:"UPLOAD_FAIL",payload:(0,v.by)(n.t0)});case 19:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(e){return n.apply(this,arguments)}}();return(0,E.jsxs)(D,{className:"section",children:[(0,E.jsx)(P.Z,{children:"C\u1eadp Nh\u1eadt S\u1ea3n Ph\u1ea9m"}),p&&(0,E.jsx)(k.Z,{}),b&&(0,E.jsx)(S.Z,{variant:"danger",children:b}),(0,E.jsxs)("form",{className:"form",autoComplete:"off",onSubmit:N(I),children:[(0,E.jsxs)("div",{className:"form-layout",children:[(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"Name",children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,E.jsx)(g.Z,{name:"name",type:"text",placeholder:"T\xean s\u1ea3n ph\u1ea9m",required:!0,control:L})]}),(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"Slug",children:"\u0110\u01b0\u1eddng D\u1eabn"}),(0,E.jsx)(g.Z,{name:"slug",type:"text",placeholder:"\u0110\u01b0\u1eddng D\u1eabn",control:L,required:!0})]})]}),(0,E.jsxs)("div",{className:"form-layout",children:[(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"Price",children:"Gi\xe1 (vn\u0111)"}),(0,E.jsx)(g.Z,{name:"price",type:"text",placeholder:"Gi\xe1 (vn\u0111)",control:L,required:!0})]}),(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"Image File",children:"H\xecnh \u1ea3nh"}),(0,E.jsx)(g.Z,{name:"image",type:"text",placeholder:"H\xecnh \u1ea3nh",control:L,required:!0}),(0,E.jsx)(T,{onChange:O}),w&&(0,E.jsx)(k.Z,{})]})]}),(0,E.jsxs)("div",{className:"form-layout",children:[(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"Category",children:"Danh M\u1ee5c"}),(0,E.jsx)(g.Z,{name:"category",type:"text",placeholder:"Danh M\u1ee5c",control:L,required:!0})]}),(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"Brand",children:"Th\u01b0\u01a1ng hi\u1ec7u"}),(0,E.jsx)(g.Z,{name:"brand",type:"text",placeholder:"Th\u01b0\u01a1ng hi\u1ec7u",control:L,required:!0})]})]}),(0,E.jsxs)("div",{className:"form-layout",children:[(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"countInStock",children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,E.jsx)(g.Z,{name:"countInStock",type:"text",placeholder:"S\u1ed1 l\u01b0\u1ee3ng",control:L,required:!0})]}),(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(x.Z,{htmlFor:"Description",children:"Description"}),(0,E.jsx)(g.Z,{name:"description",type:"text",placeholder:"Enter your Description",control:L,required:!0})]})]}),(0,E.jsx)(y.Z,{type:"submit",kind:"ghost",isLoading:z,disabled:z,children:"X\xe1c Nh\u1eadn"})]})]})}}}]);
//# sourceMappingURL=898.7a64c29f.chunk.js.map