"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[226],{6471:function(e,n,s){var i,r=s(168),t=(s(2791),s(9743)),c=s(2677),a=s(6444),d=s(3504),h=s(184),l=a.ZP.section(i||(i=(0,r.Z)(["\n  margin-top: 30px;\n  margin-bottom: 30px;\n  .checkout-steps {\n    max-width: 700px;\n    margin: auto;\n  }\n  .checkout-steps > div {\n    border-bottom: 0.3rem solid #a0a0a0;\n    color: #a0a0a0;\n  }\n  .checkout-steps > div.active {\n    border-bottom: 0.3rem solid #f08000;\n    color: #f08000;\n  }\n"])));n.Z=function(e){var n=e.step1,s=e.step2,i=e.step3,r=e.step4;return(0,h.jsx)(l,{children:(0,h.jsxs)(t.Z,{className:"checkout-steps",children:[(0,h.jsx)(c.Z,{className:n?"active":"",children:(0,h.jsx)(d.Link,{to:"/signin",children:"\u0110\u0103ng Nh\u1eadp"})}),(0,h.jsx)(c.Z,{className:s?"active":"",children:(0,h.jsx)(d.Link,{to:"/shipping",children:"\u0110\u1ecba Ch\u1ec9"})}),(0,h.jsx)(c.Z,{className:i?"active":"",children:(0,h.jsx)(d.Link,{to:"/payment",children:"Thanh To\xe1n"})}),(0,h.jsx)(c.Z,{className:r?"active":"",children:(0,h.jsx)(d.Link,{to:"/placeorder",children:"\u0110\u1eb7t H\xe0ng"})})]})})}},3848:function(e,n,s){s.r(n),s.d(n,{default:function(){return L}});var i,r=s(168),t=s(2791),c=s(9743),a=s(2677),d=s(2144),h=s(6444),l=s(6471),o=s(3504),x=s(1687),p=s(184),m=function(){var e=(0,x.o)().state.cart;return(0,p.jsxs)(d.Z.Body,{children:[(0,p.jsx)(d.Z.Title,{children:"\u0110\u01a1n H\xe0ng"}),(0,p.jsxs)(d.Z.Text,{children:[(0,p.jsx)("strong",{children:"S\u1ea3n Ph\u1ea9m:"})," ",e.shippingAddress.fullName," ",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"\u0110\u1ecba Ch\u1ec9: "})," ",e.shippingAddress.address,",",e.shippingAddress.city,", ",e.shippingAddress.postalCode,",",e.shippingAddress.country]}),(0,p.jsx)(o.Link,{to:"/shipping",children:"S\u1eeda"})]})},j=function(){var e=(0,x.o)().state.cart;return(0,p.jsxs)(d.Z.Body,{children:[(0,p.jsx)(d.Z.Title,{children:"Thanh To\xe1n"}),(0,p.jsxs)(d.Z.Text,{children:[(0,p.jsx)("strong",{children:"Ph\u01b0\u01a1ng Th\u1ee9c:"})," ",e.paymentMethod]}),(0,p.jsx)(o.Link,{to:"/payment",children:"S\u1eeda"})]})},u=s(4414),Z=function(e){var n=e.item;return(0,p.jsx)("div",{children:(0,p.jsxs)(c.Z,{className:"align-items-center",children:[(0,p.jsxs)(a.Z,{md:6,className:"flex items-center",children:[(0,p.jsx)("img",{src:n.image,alt:n.name,className:"mr-3 image"}),(0,p.jsx)(o.Link,{to:"/product/".concat(n.slug),children:n.name})]}),(0,p.jsx)(a.Z,{md:3,children:(0,p.jsx)("span",{children:n.quantity})}),(0,p.jsxs)(a.Z,{md:3,children:["$",n.price]})]})})},g=function(){var e=(0,x.o)().state.cart;return(0,p.jsxs)(d.Z.Body,{children:[(0,p.jsx)(d.Z.Title,{children:"S\u1ea3n Ph\u1ea9m"}),(0,p.jsx)(u.Z,{variant:"flush",children:e.cartItems.map((function(e){return(0,p.jsx)(u.Z.Item,{children:(0,p.jsx)(Z,{item:e})},e._id)}))}),(0,p.jsx)(o.Link,{to:"/payment",children:"S\u1eeda"})]})},f=s(8214),v=s(5861),P=s(885),T=s(6871),y=s(1413),N={loading:!1},k=function(e,n){switch(n.type){case"CREATE_REQUEST":return(0,y.Z)((0,y.Z)({},e),{},{loading:!0});case"CREATE_SUCCESS":return localStorage.removeItem("cartItems"),(0,y.Z)((0,y.Z)({},e),{},{loading:!1});case"CREATE_FAIL":return(0,y.Z)((0,y.Z)({},e),{},{loading:!1});default:return e}},E=s(4569),b=s.n(E),C=s(8412),I=function(e){e.type;var n=(0,x.o)(),s=n.state,i=n.dispatch,r=s.cart,h=s.userInfo,l=(0,T.s0)(),o=(0,t.useReducer)(k,N),m=(0,P.Z)(o,2),j=m[0].loading,Z=m[1],g=function(e){return Math.round(100*e+Number.EPSILON)/100};r.itemsPrice=g(r.cartItems.reduce((function(e,n){return e+n.quantity*n.price}),0)),r.shippingPrice=r.itemsPrice>100?g(0):g(10),r.taxPrice=g(.15*r.itemsPrice),r.totalPrice=r.itemsPrice+r.shippingPrice+r.taxPrice;var y=function(){var e=(0,v.Z)((0,f.Z)().mark((function e(){var n,s;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z({type:"CREATE_REQUES"}),e.next=4,b().post("/api/orders",{orderItems:r.cartItems,shippingAddress:r.shippingAddress,paymentMethod:r.paymentMethod,itemsPrice:r.itemsPrice,shippingPrice:r.shippingPrice,taxPrice:r.taxPrice,totalPrice:r.totalPrice},{headers:{authorization:"Bearer ".concat(h.token)}});case 4:n=e.sent,s=n.data,i({type:"CART_CLEAR"}),Z({type:"CREATE_SUCCESS"}),l("/order/".concat(s.order._id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){r.paymentMethod||l("/payment")}),[r,l]),(0,p.jsxs)(d.Z.Body,{children:[(0,p.jsx)(d.Z.Title,{children:"Th\xe0nh Ti\u1ec1n"}),(0,p.jsxs)(u.Z,{variant:"flush",children:[(0,p.jsx)(u.Z.Item,{children:(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(a.Z,{children:"Ti\u1ec1n h\xe0ng"}),(0,p.jsxs)(a.Z,{children:["$ ",r.itemsPrice.toFixed(2)]})]})}),(0,p.jsx)(u.Z.Item,{children:(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(a.Z,{children:"Ph\xed v\u1eadn chuy\u1ec3n"}),(0,p.jsxs)(a.Z,{children:["$ ",r.shippingPrice.toFixed(2)]})]})}),(0,p.jsx)(u.Z.Item,{children:(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(a.Z,{children:"Thu\u1ebf"}),(0,p.jsxs)(a.Z,{children:["$ ",r.taxPrice.toFixed(2)]})]})}),(0,p.jsx)(u.Z.Item,{children:(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(a.Z,{children:(0,p.jsx)("strong",{children:"T\u1ed5ng c\u1ed9ng"})}),(0,p.jsx)(a.Z,{children:(0,p.jsxs)("strong",{children:["$",r.totalPrice.toFixed(2)]})})]})}),(0,p.jsx)(u.Z.Item,{children:(0,p.jsx)("div",{className:"d-grid",children:(0,p.jsx)(C.Z,{type:"button",kind:"ghost",onClick:y,disabled:0===r.cartItems.length,isLoading:j,children:"\u0110\u1eb7t H\xe0ng"})})})]})]})},A=s(3298),S=h.ZP.div(i||(i=(0,r.Z)(["\n  min-height: 100vh;\n  padding: 40px;\n  .image {\n    width: 50px;\n    height: 50px;\n    object-fit: cover;\n  }\n"]))),L=function(){return(0,p.jsxs)(S,{children:[(0,p.jsx)(l.Z,{step1:!0,step2:!0,step3:!0,step4:!0}),(0,p.jsx)(A.Z,{children:"TH\xd4NG TIN NH\u1eacN H\xc0NG"}),(0,p.jsxs)(c.Z,{children:[(0,p.jsxs)(a.Z,{md:8,children:[(0,p.jsx)(d.Z,{className:"mb-3",children:(0,p.jsx)(m,{})}),(0,p.jsx)(d.Z,{className:"mb-3",children:(0,p.jsx)(j,{})}),(0,p.jsx)(d.Z,{className:"mb-3",children:(0,p.jsx)(g,{})})]}),(0,p.jsx)(a.Z,{md:4,children:(0,p.jsx)(d.Z,{className:"mb-3",children:(0,p.jsx)(I,{})})})]})]})}},7472:function(e,n,s){var i=s(1413),r=s(2791),t=s(1694),c=s.n(t),a=s(184);n.Z=function(e){return r.forwardRef((function(n,s){return(0,a.jsx)("div",(0,i.Z)((0,i.Z)({},n),{},{ref:s,className:c()(n.className,e)}))}))}}}]);
//# sourceMappingURL=226.bca077f6.chunk.js.map