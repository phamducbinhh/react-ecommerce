{"version":3,"file":"static/js/580.763f262d.chunk.js","mappings":"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","sources":["Components/ActionView.js","Components/Loading/Loading.js","Components/MessageBox.js","Layout/Heading.js","Reducer/useReducerOrder.js","Components/TableHistoryOrder.js","Screen/OrderHistoryScreen.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst ActionView = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 text-orange-500 border border-gray-200 rounded cursor-pointer hover:text-orange-700\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n        />\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionView;","import React from 'react'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className='section secton-center'>\r\n      <div className='loading'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import Alert from \"react-bootstrap/Alert\";\r\n\r\nexport default function MessageBox(props) {\r\n  return <Alert variant={props.variant || \"info\"}>{props.children}</Alert>;\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst HeadingStyles = styled.h2`\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  margin-bottom: 55px;\r\n  color: var(--clr-primary-5);\r\n  @media only screen and (max-width: 740px) {\r\n    font-size: 20px;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\nconst Heading = ({ className = \"\", children }) => {\r\n  return <HeadingStyles className={className}>{children}</HeadingStyles>;\r\n};\r\n\r\nexport default Heading;\r\n","//quản lý danh sách lịch sử đặt hàng\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true, error: \"\" };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, loading: false, order: action.payload, error: \"\" };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    case \"PAY_REQUEST\":\r\n      return { ...state, loadingPay: true };\r\n    case \"PAY_SUCCESS\":\r\n      return { ...state, loadingPay: false, successPay: true };\r\n    case \"PAY_FAIL\":\r\n      return { ...state, loadingPay: false };\r\n    case \"PAY_RESET\":\r\n      return { ...state, loadingPay: false, successPay: false };\r\n    //xác nhận giao hàng\r\n    case \"DELIVER_REQUEST\":\r\n      return { ...state, loadingDeliver: true };\r\n    case \"DELIVER_SUCCESS\":\r\n      return { ...state, loadingDeliver: false, successDeliver: true };\r\n    case \"DELIVER_FAIL\":\r\n      return { ...state, loadingDeliver: false };\r\n    case \"DELIVER_RESET\":\r\n      return {\r\n        ...state,\r\n        loadingDeliver: false,\r\n        successDeliver: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  order: {},\r\n  error: \"\",\r\n  successPay: false,\r\n  loadingPay: false,\r\n};\r\n\r\nexport { initialState, reducer };\r\n","import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ActionView from \"./ActionView\";\r\n\r\nconst TableHistoryOrder = ({ order }) => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <table className=\"rwd-table\">\r\n      <tbody>\r\n        <tr>\r\n          <th>MÃ ĐƠN</th>\r\n          <th>NGÀY ĐẶT</th>\r\n          <th>TỔNG CỘNG</th>\r\n          <th>THANH TOÁN</th>\r\n          <th>GIAO HÀNG</th>\r\n          <th>CHỈNH SỬA</th>\r\n        </tr>\r\n        {/* map data */}\r\n        {order.length > 0 &&\r\n          order.map((item) => (\r\n            <tr key={item._id} className=\" tr\">\r\n              <td data-th=\"mã đơn\">{item._id.slice(0, 5)}</td>\r\n              <td data-th=\"ngày đặt\">{item.createdAt.substring(0, 10)}</td>\r\n              <td data-th=\"tổng cộng\">{item.totalPrice.toFixed(2)} $</td>\r\n              <td data-th=\"thanh toán\">\r\n                {item.isPaid ? item.paidAt.substring(0, 10) : \"No\"}\r\n              </td>\r\n              <td data-th=\"giao hàng\">\r\n                {item.isDelivered ? item.deliveredAt.substring(0, 10) : \"No\"}\r\n              </td>\r\n              <td data-th=\"chỉnh sửa\">\r\n                <div className=\"flex items-center justify-center gap-x-3\">\r\n                  <ActionView\r\n                    type=\"button\"\r\n                    kind=\"ship\"\r\n                    onClick={() => {\r\n                      navigate(`/order/${item._id}`);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </ActionView>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default TableHistoryOrder;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useReducer } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loading from \"../Components/Loading/Loading\";\r\nimport MessageBox from \"../Components/MessageBox\";\r\nimport TableHistoryOrder from \"../Components/TableHistoryOrder\";\r\nimport { useStore } from \"../Context/Store-Context\";\r\nimport Heading from \"../Layout/Heading\";\r\nimport { initialState, reducer } from \"../Reducer/useReducerOrder\";\r\nimport { getError } from \"../Util/constanst\";\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 100vh;\r\n  padding: 40px;\r\n  thead {\r\n    height: 50px;\r\n  }\r\n  tr {\r\n    height: 70px;\r\n  }\r\n`;\r\nconst OrderHistoryScreen = () => {\r\n  //lấy từ useReducerOrder\r\n  const [{ loading, error, order }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n  //lấy từ context api\r\n  const { state } = useStore();\r\n  const { userInfo } = state;\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      try {\r\n        //thực hiện trạng thái yêu cầu lấy dữ liệu từ api\r\n        dispatch({ type: \"FETCH_REQUEST\" });\r\n        //lấy dũ liệu từ api trả về dữ liệu các đơn đã đặt hàng trước đó\r\n        // để lấy ra list dữ liệu, bạn cần gửi request lên server với method GET\r\n        const { data } = await axios.get(`/api/orders/mine`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        //lưu vào state order tương tự như setState(data)\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n      } catch (error) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: getError(error) });\r\n      }\r\n    };\r\n    getData();\r\n  }, [userInfo]);\r\n\r\n  return (\r\n    <Wrapper className=\"artical-center\">\r\n      <Heading>danh sách đơn hàng</Heading>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <TableHistoryOrder order={order} />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default OrderHistoryScreen;\r\n"],"names":["onClick","className","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","MessageBox","props","variant","children","HeadingStyles","styled","reducer","state","action","type","loading","error","order","payload","loadingPay","successPay","loadingDeliver","successDeliver","initialState","navigate","useNavigate","length","map","item","_id","slice","createdAt","substring","totalPrice","toFixed","isPaid","paidAt","isDelivered","deliveredAt","ActionView","kind","Wrapper","useReducer","dispatch","userInfo","useStore","useEffect","getData","axios","headers","Authorization","token","data","getError","Heading","Loading"],"sourceRoot":""}